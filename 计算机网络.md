# 计算机网络复习

## 第一章——概述

### 1.计算机的性能指标

#### 速率

![image-20230208154529837](计算机网络.assets/image-20230208154529837.png)

#### 带宽

![image-20230208154912030](计算机网络.assets/image-20230208154912030.png)

#### 吞吐量

![image-20230208155019475](计算机网络.assets/image-20230208155019475.png)

#### 时延

![image-20230208155104483](计算机网络.assets/image-20230208155104483.png)

![image-20230208155727251](计算机网络.assets/image-20230208155727251.png)

![image-20230208155918885](计算机网络.assets/image-20230208155918885.png)

发送时延

![image-20230208155553259](计算机网络.assets/image-20230208155553259.png)

传播时延

![image-20230208155648996](计算机网络.assets/image-20230208155648996.png)

处理时延和排队时延

![image-20230208155818420](计算机网络.assets/image-20230208155818420.png)

#### 容易产生的错误概念

![image-20230208160304030](计算机网络.assets/image-20230208160304030.png)

举例：

![image-20230208161140860](计算机网络.assets/image-20230208161140860.png)

![image-20230208161230422](计算机网络.assets/image-20230208161230422.png)

总结：对于数据块来说，K是2^10^,M是2^20^,G是2^30^,B要转换为bit，B=8 bit

​			对于带宽来说，K是10^3^,M是10^6^,G是10^9^

#### 时延带宽积

![image-20230208162249205](计算机网络.assets/image-20230208162249205.png)

#### 往返时间

![image-20230208162537354](计算机网络.assets/image-20230208162537354.png)

举例：

![image-20230208162911066](计算机网络.assets/image-20230208162911066.png)

![image-20230208162920139](计算机网络.assets/image-20230208162920139.png)

![image-20230208162954698](计算机网络.assets/image-20230208162954698.png)

#### 利用率

![image-20230208163102318](计算机网络.assets/image-20230208163102318.png)

![image-20230208163053713](计算机网络.assets/image-20230208163053713.png)

#### 回顾测试

![image-20230208163238938](计算机网络.assets/image-20230208163238938.png)

### 2.计算机的非性能指标

#### 协议与划分层次

![image-20230208163715393](计算机网络.assets/image-20230208163715393.png)

#### 具有五层协议的体系结构

![image-20230208164333363](计算机网络.assets/image-20230208164333363.png)

#### 对等层与协议数据单元PDU

![image-20230208164551519](计算机网络.assets/image-20230208164551519.png)

#### 服务访问点SAP

![image-20230208164632587](计算机网络.assets/image-20230208164632587.png)

#### TCP/IP 的体系结构

![image-20230208164740899](计算机网络.assets/image-20230208164740899.png)

## 第二章——物理层

### 1.数据通信

#### 数据通信系统的模型

![image-20230208225557014](计算机网络.assets/image-20230208225557014.png)

#### 数据通信常用术语

![image-20230208225701440](计算机网络.assets/image-20230208225701440.png)

![image-20230208225714842](计算机网络.assets/image-20230208225714842.png)

#### 信道的几个基本概念

![image-20230208230331070](计算机网络.assets/image-20230208230331070.png)

![image-20230208230349528](计算机网络.assets/image-20230208230349528.png)

#### 常用编码方式

![image-20230208230929399](计算机网络.assets/image-20230208230929399.png)

![image-20230208230945903](计算机网络.assets/image-20230208230945903.png)

![image-20230208231142878](计算机网络.assets/image-20230208231142878.png)

#### 基本的带通调制方法

![image-20230208231414690](计算机网络.assets/image-20230208231414690.png)

![image-20230208231438864](计算机网络.assets/image-20230208231438864.png)

#### 信道的极限容量

![image-20230208231831864](计算机网络.assets/image-20230208231831864.png)

![image-20230209091336687](计算机网络.assets/image-20230209091336687.png)

#### 信道能够通过的频率范围（奈氏准则）

![image-20230209091545164](计算机网络.assets/image-20230209091545164.png)

#### 信噪比

![image-20230209091636628](计算机网络.assets/image-20230209091636628.png)

#### 香农公式

![image-20230209091913190](计算机网络.assets/image-20230209091913190.png)

#### 提高信息的传输速率的方法

![image-20230209092043533](计算机网络.assets/image-20230209092043533.png)

#### 奈氏准则和香农公式的意义

![image-20230209092227976](计算机网络.assets/image-20230209092227976.png)

### 2.物理层下的传输媒体

#### 传输媒体

![image-20230209092921020](计算机网络.assets/image-20230209092921020.png)

#### 电磁波的频谱

![image-20230209093056479](计算机网络.assets/image-20230209093056479.png)

#### 双绞线

![image-20230209093156622](计算机网络.assets/image-20230209093156622.png)

![image-20230209093229891](计算机网络.assets/image-20230209093229891.png)

#### 屏蔽双绞线

![image-20230209093436336](计算机网络.assets/image-20230209093436336.png)

![image-20230209093446246](计算机网络.assets/image-20230209093446246.png)

F表示有铝箔屏蔽层，U表示没有，在/的前面是对整条电缆，在/的后面是对每对双绞线

![image-20230209093754675](计算机网络.assets/image-20230209093754675.png)

#### 同轴电缆

![image-20230209093851876](计算机网络.assets/image-20230209093851876.png)

#### 光缆

![image-20230209093912761](计算机网络.assets/image-20230209093912761.png)

![image-20230209094050327](计算机网络.assets/image-20230209094050327.png)

懂不懂全反射啊？

#### 多模光纤与单模光纤

![image-20230209094609117](计算机网络.assets/image-20230209094609117.png)

![image-20230209094623134](计算机网络.assets/image-20230209094623134.png)

#### 无线电微波通信

![image-20230209094933075](计算机网络.assets/image-20230209094933075.png)

#### 多径效应

![image-20230209095154976](计算机网络.assets/image-20230209095154976.png)

误码率

![image-20230209095502904](计算机网络.assets/image-20230209095502904.png)

#### 微波接力

![image-20230209095643415](计算机网络.assets/image-20230209095643415.png)

#### 卫星通信

![image-20230209095828192](计算机网络.assets/image-20230209095828192.png)

#### 复用

![image-20230209100011820](计算机网络.assets/image-20230209100011820.png)

#### 频分复用

![image-20230209100034031](计算机网络.assets/image-20230209100034031.png)

#### 时分复用

![image-20230209100130862](计算机网络.assets/image-20230209100130862.png)

![image-20230209100245925](计算机网络.assets/image-20230209100245925.png)

![image-20230209100316805](计算机网络.assets/image-20230209100316805.png)

![image-20230209100339936](计算机网络.assets/image-20230209100339936.png)

#### 波分复用

![image-20230209100429590](计算机网络.assets/image-20230209100429590.png)

#### 码分复用

![image-20230209100507980](计算机网络.assets/image-20230209100507980.png)

![image-20230209100753589](计算机网络.assets/image-20230209100753589.png)

![image-20230209100846099](计算机网络.assets/image-20230209100846099.png)

## 第三章——数据链路层

### 1.点对点信道

![image-20230209103140793](计算机网络.assets/image-20230209103140793.png)

#### 数据链路和帧

![image-20230209103317260](计算机网络.assets/image-20230209103317260.png)

![image-20230209103347560](计算机网络.assets/image-20230209103347560.png)

#### 三个基本问题

##### 封装成帧

![image-20230209103502047](计算机网络.assets/image-20230209103502047.png)

![image-20230209103642423](计算机网络.assets/image-20230209103642423.png)

##### 透明传输

![image-20230209103709528](计算机网络.assets/image-20230209103709528.png)

![image-20230209104028692](计算机网络.assets/image-20230209104028692.png)

![image-20230209104254029](计算机网络.assets/image-20230209104254029.png)

##### 差错检测

![image-20230209104344017](计算机网络.assets/image-20230209104344017.png)

#### 循环冗余检测原理

![image-20230209104543605](计算机网络.assets/image-20230209104543605.png)

![image-20230209104715496](计算机网络.assets/image-20230209104715496.png)

![image-20230209104956703](计算机网络.assets/image-20230209104956703.png)

除数P是n+1位，余数R是n位，原始数据M与除数P做异或运算。

![image-20230209105123286](计算机网络.assets/image-20230209105123286.png)

![image-20230209105150004](计算机网络.assets/image-20230209105150004.png)

X^2^=100,X^3^=1000,以此类推，X^n^就是1后面加上n个0.

练习：

![image-20230209105318837](计算机网络.assets/image-20230209105318837.png)

![image-20230209105352893](计算机网络.assets/image-20230209105352893.png)

![image-20230209105439541](计算机网络.assets/image-20230209105439541.png)

### 2.点对点协议 PPP

#### PPP 协议的组成

![image-20230209105720213](计算机网络.assets/image-20230209105720213.png)

#### PPP 协议的帧格式

![image-20230209105921926](计算机网络.assets/image-20230209105921926.png)

#### 透明传输问题 

![image-20230209105959938](计算机网络.assets/image-20230209105959938.png)

![image-20230209110056741](计算机网络.assets/image-20230209110056741.png)

![image-20230209110146239](计算机网络.assets/image-20230209110146239.png)

![image-20230209110839439](计算机网络.assets/image-20230209110839439.png)

就是在5个连1后面加0或者删0.

#### PPP 协议的工作状态

![image-20230209110941884](计算机网络.assets/image-20230209110941884.png)

![image-20230209111224462](计算机网络.assets/image-20230209111224462.png)

### 3.使用广播信道的数据链路层

#### CSMA/CD 协议

![image-20230209112044012](计算机网络.assets/image-20230209112044012.png)

![image-20230209112112525](计算机网络.assets/image-20230209112112525.png)

![image-20230209112131082](计算机网络.assets/image-20230209112131082.png)

![image-20230209113934210](计算机网络.assets/image-20230209113934210.png)

#### 以太网采取的 2 种重要措施

![image-20230209112350477](计算机网络.assets/image-20230209112350477.png)

![image-20230209113041448](计算机网络.assets/image-20230209113041448.png)



#### 碰撞检测

![image-20230209114235683](计算机网络.assets/image-20230209114235683.png)

![image-20230209114630991](计算机网络.assets/image-20230209114630991.png)

![image-20230209114757939](计算机网络.assets/image-20230209114757939.png)

![image-20230209115121460](计算机网络.assets/image-20230209115121460.png)

举例：

![image-20230209115351768](计算机网络.assets/image-20230209115351768.png)

![image-20230209115649688](计算机网络.assets/image-20230209115649688.png)

![image-20230209115701924](计算机网络.assets/image-20230209115701924.png)

![image-20230209115822270](计算机网络.assets/image-20230209115822270.png)

#### 使用集线器的星形拓扑

![image-20230209120156034](计算机网络.assets/image-20230209120156034.png)

![image-20230209120223257](计算机网络.assets/image-20230209120223257.png)

![image-20230209120314612](计算机网络.assets/image-20230209120314612.png)

##### 集线器的特点

![image-20230209120419346](计算机网络.assets/image-20230209120419346.png)

![image-20230209120430982](计算机网络.assets/image-20230209120430982.png)

#### 以太网的信道利用率

![image-20230209120456958](计算机网络.assets/image-20230209120456958.png)

![image-20230209120823422](计算机网络.assets/image-20230209120823422.png)

##### 参数 a 与利用率

![image-20230209121214767](计算机网络.assets/image-20230209121214767.png)

![image-20230209121358076](计算机网络.assets/image-20230209121358076.png)

##### 信道利用率最大值

![image-20230209121430853](计算机网络.assets/image-20230209121430853.png)

#### 以太网的 MAC 层

![image-20230209121650497](计算机网络.assets/image-20230209121650497.png)

![image-20230209121740978](计算机网络.assets/image-20230209121740978.png)

![image-20230209150508447](计算机网络.assets/image-20230209150508447.png)

##### 以太网 V2 的 MAC 帧格式

![image-20230209150604471](计算机网络.assets/image-20230209150604471.png)

![image-20230209150715656](计算机网络.assets/image-20230209150715656.png)

![image-20230209150818457](计算机网络.assets/image-20230209150818457.png)

### 4.扩展以太网

#### 在物理层扩展以太网

![image-20230209151356405](计算机网络.assets/image-20230209151356405.png)

![image-20230209151501782](计算机网络.assets/image-20230209151501782.png)

##### 碰撞域

![image-20230209151608331](计算机网络.assets/image-20230209151608331.png)

#### 在数据链路层扩展以太网

![image-20230209151729951](计算机网络.assets/image-20230209151729951.png)

##### 网桥与以太网交换机

![image-20230209151825726](计算机网络.assets/image-20230209151825726.png)

##### 以太网交换机的特点

![image-20230209152123917](计算机网络.assets/image-20230209152123917.png)

![image-20230209152155408](计算机网络.assets/image-20230209152155408.png)

![image-20230209152442376](计算机网络.assets/image-20230209152442376.png)

##### 以太网交换机的自学习功能

![image-20230209153051861](计算机网络.assets/image-20230209153051861.png)

![image-20230209153138040](计算机网络.assets/image-20230209153138040.png)

![image-20230209153217265](计算机网络.assets/image-20230209153217265.png)

![image-20230209153241849](计算机网络.assets/image-20230209153241849.png)

##### 存在的问题：回路

![image-20230209153458185](计算机网络.assets/image-20230209153458185.png)

消除回路：使用生成树协议（SPT）

![image-20230209153646290](计算机网络.assets/image-20230209153646290.png)

##### 从总线以太网到星形以太网

![image-20230209154052198](计算机网络.assets/image-20230209154052198.png)

#### 虚拟局域网

![image-20230209154144315](计算机网络.assets/image-20230209154144315.png)

##### 广播风暴

![image-20230209154202754](计算机网络.assets/image-20230209154202754.png)

![image-20230209154241839](计算机网络.assets/image-20230209154241839.png)

##### 安全问题

![image-20230209154305274](计算机网络.assets/image-20230209154305274.png)

#### 虚拟局域网 VLAN

![image-20230209154726291](计算机网络.assets/image-20230209154726291.png)

![image-20230209154814313](计算机网络.assets/image-20230209154814313.png)

#### 划分虚拟局域网的方法

##### 基于交换机端口的方法

![image-20230209155020707](计算机网络.assets/image-20230209155020707.png)

##### 基于计算机网卡的 MAC 地址的方法

![image-20230209155042210](计算机网络.assets/image-20230209155042210.png)

##### 基于协议类型的方法

![image-20230209155057679](计算机网络.assets/image-20230209155057679.png)

##### 基于 IP 子网地址的方法

![image-20230209155117864](计算机网络.assets/image-20230209155117864.png)

##### 基于高层应用或服务的方法

![image-20230209155138009](计算机网络.assets/image-20230209155138009.png)

## 第四章——网络层

### 1.网络层提供的两种服务

#### 虚电路服务

![image-20230209155617550](计算机网络.assets/image-20230209155617550.png)

![image-20230209155626097](计算机网络.assets/image-20230209155626097.png)

#### 数据报服务

![image-20230209160017969](计算机网络.assets/image-20230209160017969.png)

#### 两种服务对比

![image-20230209160132857](计算机网络.assets/image-20230209160132857.png)

### 2.网际协议 IP

![image-20230209160229193](计算机网络.assets/image-20230209160229193.png)

#### 虚拟互连网络

![image-20230209160359646](计算机网络.assets/image-20230209160359646.png)

![image-20230209160417679](计算机网络.assets/image-20230209160417679.png)

![image-20230209160439781](计算机网络.assets/image-20230209160439781.png)

![image-20230209160515920](计算机网络.assets/image-20230209160515920.png)

![image-20230209160623613](计算机网络.assets/image-20230209160623613.png)

![image-20230209160635959](计算机网络.assets/image-20230209160635959.png)

#### IP地址

##### IP 地址及其表示方法

![image-20230209160726921](计算机网络.assets/image-20230209160726921.png)

##### IP 地址采用 2 级结构

![image-20230209161044712](计算机网络.assets/image-20230209161044712.png)

##### 分类的 IP 地址

![image-20230209161131791](计算机网络.assets/image-20230209161131791.png)

![image-20230209161439314](计算机网络.assets/image-20230209161439314.png)

![image-20230209161738279](计算机网络.assets/image-20230209161738279.png)

##### IP 地址的特点

![image-20230209161912047](计算机网络.assets/image-20230209161912047.png)

![image-20230209161920929](计算机网络.assets/image-20230209161920929.png)

![image-20230209161934790](计算机网络.assets/image-20230209161934790.png)

![image-20230209161952864](计算机网络.assets/image-20230209161952864.png)

![image-20230209162205327](计算机网络.assets/image-20230209162205327.png)

![image-20230209162214057](计算机网络.assets/image-20230209162214057.png)

![image-20230209162223120](计算机网络.assets/image-20230209162223120.png)

##### 练习

![image-20230209162409797](计算机网络.assets/image-20230209162409797.png)

看第一个点之前的数字，A类：1~126，B类：128 ~191，C类：192以上

![image-20230209162813681](计算机网络.assets/image-20230209162813681.png)

B类就是后面两个点的数字可作为主机数，又因为240，占了4位，所以Host-id位数为4+8=12，又因为要除去全0和全1的，所以要-2.

![image-20230209162951200](计算机网络.assets/image-20230209162951200.png)

#### IP 地址与 MAC 地址

![image-20230209163051756](计算机网络.assets/image-20230209163051756.png)

#### 地址解析协议 ARP

![image-20230209163319266](计算机网络.assets/image-20230209163319266.png)

![image-20230209215026646](计算机网络.assets/image-20230209215026646.png)

##### ARP高速缓存

![image-20230209220117470](计算机网络.assets/image-20230209220117470.png)

##### ARP 工作

![image-20230209220146560](计算机网络.assets/image-20230209220146560.png)

##### ARP 查找 IP 地址对应的 MAC地址

![image-20230209222141259](计算机网络.assets/image-20230209222141259.png)

![image-20230209222331529](计算机网络.assets/image-20230209222331529.png)

##### 为什么要使用两种地址：IP 地址和 MAC 地址？

![image-20230209223519369](计算机网络.assets/image-20230209223519369.png)

#### IP 数据报的格式

![image-20230209223833482](计算机网络.assets/image-20230209223833482.png)

##### 标志

![image-20230209224450910](计算机网络.assets/image-20230209224450910.png)

##### 片偏移

![image-20230209224519980](计算机网络.assets/image-20230209224519980.png)

##### 练习

![image-20230209224554338](计算机网络.assets/image-20230209224554338.png)

![image-20230209225553021](计算机网络.assets/image-20230209225553021.png)

![image-20230209225635128](计算机网络.assets/image-20230209225635128.png)

### 3.划分子网和构造超网

#### 划分子网

##### 划分子网的基本思路

![image-20230210091610128](计算机网络.assets/image-20230210091610128.png)

![image-20230210091718710](计算机网络.assets/image-20230210091718710.png)

![image-20230210091902926](计算机网络.assets/image-20230210091902926.png)

##### 子网掩码

![image-20230210092024066](计算机网络.assets/image-20230210092024066.png)

![image-20230210092104745](计算机网络.assets/image-20230210092104745.png)

![image-20230210092315316](计算机网络.assets/image-20230210092315316.png)

![image-20230210092341481](计算机网络.assets/image-20230210092341481.png)

##### 练习

![image-20230210092551360](计算机网络.assets/image-20230210092551360.png)

##### B 类地址的子网划分选择（使用固定长度子网）

![image-20230210093116451](计算机网络.assets/image-20230210093116451.png)

##### 练习

![image-20230210093203639](计算机网络.assets/image-20230210093203639.png)

![image-20230210093212472](计算机网络.assets/image-20230210093212472.png)

不同的子网掩码可能得出相同的网络地址

##### 使用子网时分组的转发

![image-20230210094103468](计算机网络.assets/image-20230210094103468.png)

##### 练习

![image-20230210094128137](计算机网络.assets/image-20230210094128137.png)

![image-20230210094135751](计算机网络.assets/image-20230210094135751.png)

![image-20230210094144832](计算机网络.assets/image-20230210094144832.png)

![image-20230210094158418](计算机网络.assets/image-20230210094158418.png)

![image-20230210094208119](计算机网络.assets/image-20230210094208119.png)

![image-20230210094216102](计算机网络.assets/image-20230210094216102.png)

#### 无分类编址 CIDR(构造超网)

![image-20230210094312830](计算机网络.assets/image-20230210094312830.png)

##### 网络前缀

![image-20230210094350155](计算机网络.assets/image-20230210094350155.png)

##### 地址块

![image-20230210094441769](计算机网络.assets/image-20230210094441769.png)

![image-20230210094633647](计算机网络.assets/image-20230210094633647.png)

##### 地址掩码

![image-20230210094728405](计算机网络.assets/image-20230210094728405.png)

![image-20230210094836514](计算机网络.assets/image-20230210094836514.png)

##### 练习

![image-20230210095145449](计算机网络.assets/image-20230210095145449.png)

子网数中的8：8指8位，子网掩码中1的位数-B类地址的位数。

![image-20230210095248840](计算机网络.assets/image-20230210095248840.png)

##### 常用的 CIDR 地址块

![image-20230210095618737](计算机网络.assets/image-20230210095618737.png)

![image-20230210095734032](计算机网络.assets/image-20230210095734032.png)

##### 三个特殊的 CIDR 地址块

![image-20230210095754195](计算机网络.assets/image-20230210095754195.png)

##### 路由聚合

![image-20230210095937195](计算机网络.assets/image-20230210095937195.png)

##### 练习

![image-20230210100031760](计算机网络.assets/image-20230210100031760.png)

取相同位数

##### CIDR 地址块划分举例

![image-20230210100349729](计算机网络.assets/image-20230210100349729.png)

![image-20230210100401569](计算机网络.assets/image-20230210100401569.png)

### 4.IP 层转发分组的过程

#### 基于终点的转发

![image-20230210100635471](计算机网络.assets/image-20230210100635471.png)

![image-20230210100901368](计算机网络.assets/image-20230210100901368.png)

![image-20230210101021240](计算机网络.assets/image-20230210101021240.png)

![image-20230210101144008](计算机网络.assets/image-20230210101144008.png)

![image-20230210101306697](计算机网络.assets/image-20230210101306697.png)

![image-20230210101316818](计算机网络.assets/image-20230210101316818.png)

#### 最长前缀匹配

![image-20230210101356357](计算机网络.assets/image-20230210101356357.png)

![image-20230210101453479](计算机网络.assets/image-20230210101453479.png)

![image-20230210101500147](计算机网络.assets/image-20230210101500147.png)

![image-20230210101508451](计算机网络.assets/image-20230210101508451.png)

![image-20230210101516001](计算机网络.assets/image-20230210101516001.png)

![image-20230210101522417](计算机网络.assets/image-20230210101522417.png)

#### 使用二叉线索查找转发表

![image-20230210101606497](计算机网络.assets/image-20230210101606497.png)

![image-20230210101709730](计算机网络.assets/image-20230210101709730.png)

![image-20230210101752457](计算机网络.assets/image-20230210101752457.png)

![image-20230210101800166](计算机网络.assets/image-20230210101800166.png)

### 5.网际控制报文协议 ICMP

![image-20230210101919811](计算机网络.assets/image-20230210101919811.png)

#### ICMP 报文的格式 

![image-20230210101945704](计算机网络.assets/image-20230210101945704.png)

####  ICMP 报文的种类

![image-20230210102019728](计算机网络.assets/image-20230210102019728.png)

![image-20230210102054855](计算机网络.assets/image-20230210102054855.png)

##### ICMP 询问报文

![image-20230210102144687](计算机网络.assets/image-20230210102144687.png)

####  ICMP 的应用举例

![image-20230210102230010](计算机网络.assets/image-20230210102230010.png)

![image-20230210102243216](计算机网络.assets/image-20230210102243216.png)

### 6.IPv6

![image-20230210102327283](计算机网络.assets/image-20230210102327283.png)

#### IPv6 的基本首部

![image-20230210102354388](计算机网络.assets/image-20230210102354388.png)

![image-20230210102414722](计算机网络.assets/image-20230210102414722.png)

![image-20230210102458358](计算机网络.assets/image-20230210102458358.png)

![image-20230210102517275](计算机网络.assets/image-20230210102517275.png)

![image-20230210102557743](计算机网络.assets/image-20230210102557743.png)

#### IPv6 的地址

![image-20230210102642418](计算机网络.assets/image-20230210102642418.png)

##### 节点与接口

![image-20230210102703950](计算机网络.assets/image-20230210102703950.png)

##### 冒号十六进制记法

![image-20230210102726308](计算机网络.assets/image-20230210102726308.png)

##### 零压缩

![image-20230210102953012](计算机网络.assets/image-20230210102953012.png)

##### 点分十进制的后缀

![image-20230210103114111](计算机网络.assets/image-20230210103114111.png)

##### IPv6 地址分类

![image-20230210103244017](计算机网络.assets/image-20230210103244017.png)

##### IPv6 单播地址的划分方法

![image-20230210103345456](计算机网络.assets/image-20230210103345456.png)

#### 从 IPv4 向 IPv6 过渡

![image-20230210103413438](计算机网络.assets/image-20230210103413438.png)

##### 双协议栈

![image-20230210103431243](计算机网络.assets/image-20230210103431243.png)

![image-20230210103511632](计算机网络.assets/image-20230210103511632.png)

##### 隧道技术

![image-20230210103529954](计算机网络.assets/image-20230210103529954.png)

#### ICMPv6

![image-20230210103604609](计算机网络.assets/image-20230210103604609.png)

### 7.互连网的路由选择协议

#### 有关路由选择协议的几个基本概念

![image-20230210103714438](计算机网络.assets/image-20230210103714438.png)

##### 分层次的路由选择协议

![image-20230210103844597](计算机网络.assets/image-20230210103844597.png)

##### 自治系统

![image-20230210103905674](计算机网络.assets/image-20230210103905674.png)

##### 2 大类路由选择协议

![image-20230210103951015](计算机网络.assets/image-20230210103951015.png)

![image-20230210104013049](计算机网络.assets/image-20230210104013049.png)

##### 练习

![image-20230210104141631](计算机网络.assets/image-20230210104141631.png)

![image-20230210104150154](计算机网络.assets/image-20230210104150154.png)

开与就行了

#### 内部网关协议 RIP

![image-20230210104252911](计算机网络.assets/image-20230210104252911.png)

##### 协议 RIP 的工作原理

![image-20230210104312574](计算机网络.assets/image-20230210104312574.png)

##### RIP“距离”的定义

![image-20230210104409979](计算机网络.assets/image-20230210104409979.png)

![image-20230210104459332](计算机网络.assets/image-20230210104459332.png)

##### RIP 协议的三个特点

![image-20230210104531699](计算机网络.assets/image-20230210104531699.png)

##### 路由表的建立

![image-20230210104611034](计算机网络.assets/image-20230210104611034.png)

![image-20230210104656816](计算机网络.assets/image-20230210104656816.png)

##### 距离向量算法

![image-20230210104711121](计算机网络.assets/image-20230210104711121.png)

![image-20230210104851813](计算机网络.assets/image-20230210104851813.png)

例子：

![image-20230210105051430](计算机网络.assets/image-20230210105051430.png)

![image-20230210105317161](计算机网络.assets/image-20230210105317161.png)

新旧表对比：1.无新信息，旧保持不变

   					2.有新信息，1.相同下一跳，新替换旧

​											  2.不同下一跳，步数小则替换，其他则不变

##### RIP2 报文

![image-20230210105540183](计算机网络.assets/image-20230210105540183.png)

##### 坏消息传播得慢

![image-20230210105602643](计算机网络.assets/image-20230210105602643.png)

![image-20230210105839592](计算机网络.assets/image-20230210105839592.png)

##### RIP 协议的优缺点

![image-20230210105858721](计算机网络.assets/image-20230210105858721.png)

#### 内部网关协议 OSPF

![image-20230210105956585](计算机网络.assets/image-20230210105956585.png)

##### 三个主要特点

![image-20230210111600482](计算机网络.assets/image-20230210111600482.png)

##### 链路状态数据库

![image-20230210111650334](计算机网络.assets/image-20230210111650334.png)

##### OSPF 将自治系统划分为两种不同的区域

![image-20230210111724216](计算机网络.assets/image-20230210111724216.png)

##### 区域边界路由器 ABR

![image-20230210111802524](计算机网络.assets/image-20230210111802524.png)

##### 主干路由器 BR

![image-20230210111838877](计算机网络.assets/image-20230210111838877.png)

##### 自治系统边界路由器 ASBR

![image-20230210111852941](计算机网络.assets/image-20230210111852941.png)

##### OSPF 分组用 IP 数据报传送

![image-20230210111947795](计算机网络.assets/image-20230210111947795.png)

##### OSPF 的五种分组类型

![image-20230210112012514](计算机网络.assets/image-20230210112012514.png)

##### OSPF 工作过程

![image-20230210112116278](计算机网络.assets/image-20230210112116278.png)

![image-20230210112147215](计算机网络.assets/image-20230210112147215.png)

![image-20230210112208341](计算机网络.assets/image-20230210112208341.png)

![image-20230210112234641](计算机网络.assets/image-20230210112234641.png)

##### 指定的路由器 DR

![image-20230210112335333](计算机网络.assets/image-20230210112335333.png)

#### 外部网关协议 BGP

##### 协议 BGP 的主要特点

![image-20230210112416182](计算机网络.assets/image-20230210112416182.png)

##### eBGP 连接和 iBGP 连接

![image-20230210112535177](计算机网络.assets/image-20230210112535177.png)

##### IGP、iBGP 和 eBGP 的关系

![image-20230210112657846](计算机网络.assets/image-20230210112657846.png)

##### eBGP 和 iBGP

![image-20230210112816751](计算机网络.assets/image-20230210112816751.png)

![image-20230210112918589](计算机网络.assets/image-20230210112918589.png)

##### BGP 路由信息

![image-20230210113118449](计算机网络.assets/image-20230210113118449.png)

##### 三种不同的自治系统 AS

![image-20230210113017238](计算机网络.assets/image-20230210113017238.png)

##### BGP 路由如何避免兜圈子？

![image-20230210113151296](计算机网络.assets/image-20230210113151296.png)

##### BGP 的路由选择

![image-20230210113241014](计算机网络.assets/image-20230210113241014.png)

![image-20230210113433995](计算机网络.assets/image-20230210113433995.png)

![image-20230210113507235](计算机网络.assets/image-20230210113507235.png)

![image-20230210113515918](计算机网络.assets/image-20230210113515918.png)

##### BGP-4 的四种报文

![image-20230210113547292](计算机网络.assets/image-20230210113547292.png)

##### BGP 报文具有通用首部

![image-20230210113618061](计算机网络.assets/image-20230210113618061.png)

#### 路由器的构成

![image-20230210113637532](计算机网络.assets/image-20230210113637532.png)

##### 路由器的结构

![image-20230210113835710](计算机网络.assets/image-20230210113835710.png)

##### “转发”和“路由选择”的区别

![image-20230210114349612](计算机网络.assets/image-20230210114349612.png)

##### 输入端口对线路上收到的分组的处理 

![image-20230210114446644](计算机网络.assets/image-20230210114446644.png)

![image-20230210114459413](计算机网络.assets/image-20230210114459413.png)

##### 交换结构

![image-20230210114556984](计算机网络.assets/image-20230210114556984.png)

![image-20230210114652722](计算机网络.assets/image-20230210114652722.png)

![image-20230210114659346](计算机网络.assets/image-20230210114659346.png)

![image-20230210114705736](计算机网络.assets/image-20230210114705736.png)

### 8.IP 多播

#### 1.IP 多播的基本概念

![image-20230210114934903](计算机网络.assets/image-20230210114934903.png)

![image-20230210115005308](计算机网络.assets/image-20230210115005308.png)

##### 多播 IP 地址

![image-20230210115034910](计算机网络.assets/image-20230210115034910.png)

##### 多播数据报

![image-20230210115115978](计算机网络.assets/image-20230210115115978.png)

#### 2.在局域网上进行硬件多播

![image-20230210115228603](计算机网络.assets/image-20230210115228603.png)

##### D 类 IP 地址与以太网多播地址的映射关系 

![image-20230210115459191](计算机网络.assets/image-20230210115459191.png)

#### 3.网际组管理协议 IGMP 和多播路由选择协议

![image-20230210115528813](计算机网络.assets/image-20230210115528813.png)

##### IGMP 使多播路由器知道多播组成员信息

![image-20230210115604853](计算机网络.assets/image-20230210115604853.png)

##### 多播路由选择协议

![image-20230210115827340](计算机网络.assets/image-20230210115827340.png)

##### 网际组管理协议 IGMP

![image-20230210120025671](计算机网络.assets/image-20230210120025671.png)

![image-20230210120034872](计算机网络.assets/image-20230210120034872.png)

![image-20230210120043032](计算机网络.assets/image-20230210120043032.png)

![image-20230210120115472](计算机网络.assets/image-20230210120115472.png)

##### IGMP 采用的一些具体措施

![image-20230210120156410](计算机网络.assets/image-20230210120156410.png)

![image-20230210120230075](计算机网络.assets/image-20230210120230075.png)

##### 多播路由选择（RPB）

![image-20230210120320461](计算机网络.assets/image-20230210120320461.png)

洪泛与剪除

![image-20230210120328142](计算机网络.assets/image-20230210120328142.png)

RPB 的要点：检查，转发

![image-20230210120515184](计算机网络.assets/image-20230210120515184.png)

RPB 的要点：形成以源为根节点的多播转发树

![image-20230210120602188](计算机网络.assets/image-20230210120602188.png)

RPB 的要点：剪枝与嫁接

![image-20230210120623655](计算机网络.assets/image-20230210120623655.png)

隧道技术

![image-20230210120659332](计算机网络.assets/image-20230210120659332.png)

基于核心的发现技术 

![image-20230210120732350](计算机网络.assets/image-20230210120732350.png)

![image-20230210120844274](计算机网络.assets/image-20230210120844274.png)

### 9.虚拟专用网  VPN 和网络地址转换  NAT

略

## 第五章——运输层

### 1.运输层协议概述

#### 进程之间的通信

![image-20230210121440243](计算机网络.assets/image-20230210121440243.png)

##### 运输层的作用

![image-20230210121649164](计算机网络.assets/image-20230210121649164.png)

##### 屏蔽作用

![image-20230210121705715](计算机网络.assets/image-20230210121705715.png)

##### 可靠信道与不可靠信道

![image-20230210121730783](计算机网络.assets/image-20230210121730783.png)

#### 运输层的两个主要协议

![image-20230210121803790](计算机网络.assets/image-20230210121803790.png)

##### UDP 与 TCP 的区别                        

![image-20230210140425381](计算机网络.assets/image-20230210140425381.png)

##### 使用 UDP 和 TCP 的典型应用和应用层协议

![image-20230210140557128](计算机网络.assets/image-20230210140557128.png)

#### 运输层的端口

![image-20230210140809380](计算机网络.assets/image-20230210140809380.png)

##### 端口号

![image-20230210140848644](计算机网络.assets/image-20230210140848644.png)

##### 软件端口与硬件端口

![image-20230210141005404](计算机网络.assets/image-20230210141005404.png)

##### TCP/IP 运输层端口的标志

![image-20230210141141669](计算机网络.assets/image-20230210141141669.png)

##### 两大类、三种类型的端口

![image-20230210141220131](计算机网络.assets/image-20230210141220131.png)

##### 常用的熟知端口

![image-20230210141253163](计算机网络.assets/image-20230210141253163.png)

### 2.用户数据报协议 UDP

#### UDP 概述

![image-20230210141439732](计算机网络.assets/image-20230210141439732.png)

##### UDP 的主要特点

![image-20230210141527535](计算机网络.assets/image-20230210141527535.png)

##### UDP 是面向报文的

![image-20230210141754180](计算机网络.assets/image-20230210141754180.png)

![image-20230210141936565](计算机网络.assets/image-20230210141936565.png)

##### UDP 通信和端口号的关系

![image-20230210142010542](计算机网络.assets/image-20230210142010542.png)

##### UDP 的首部格式

![image-20230210142129768](计算机网络.assets/image-20230210142129768.png)

##### UDP 基于端口的分用

![image-20230210142230054](计算机网络.assets/image-20230210142230054.png)

##### 计算 UDP 检验和

![image-20230210142424812](计算机网络.assets/image-20230210142424812.png)

![image-20230210142434693](计算机网络.assets/image-20230210142434693.png)

### 3.传输控制协议 TCP 概述

#### TCP 最主要的特点

![image-20230210142639109](计算机网络.assets/image-20230210142639109.png)

![image-20230210142702805](计算机网络.assets/image-20230210142702805.png)

##### TCP 面向流的概念

![image-20230210143025618](计算机网络.assets/image-20230210143025618.png)

![image-20230210143036871](计算机网络.assets/image-20230210143036871.png)

##### 练习

![image-20230210143110682](计算机网络.assets/image-20230210143110682.png)

![image-20230210143227200](计算机网络.assets/image-20230210143227200.png)

#### TCP 的连接

![image-20230210143457524](计算机网络.assets/image-20230210143457524.png)

##### 套接字

![image-20230210143646716](计算机网络.assets/image-20230210143646716.png)

##### TCP 连接，IP 地址，套接字

![image-20230210143747047](计算机网络.assets/image-20230210143747047.png)

### 4.可靠传输的工作原理

#### IP 网络提供的是不可靠的传输

![image-20230210144018214](计算机网络.assets/image-20230210144018214.png)

#### 停止等待协议

![image-20230210144158977](计算机网络.assets/image-20230210144158977.png)

##### 无差错情况

![image-20230210144345299](计算机网络.assets/image-20230210144345299.png)

##### 出现差错

![image-20230210144403701](计算机网络.assets/image-20230210144403701.png)

![image-20230210144437200](计算机网络.assets/image-20230210144437200.png)

![image-20230210144518111](计算机网络.assets/image-20230210144518111.png)

##### 确认丢失和确认迟到

![image-20230210144549318](计算机网络.assets/image-20230210144549318.png)

![image-20230210144657639](计算机网络.assets/image-20230210144657639.png)

##### 信道利用率

![image-20230210144929357](计算机网络.assets/image-20230210144929357.png)

##### 提高传输效率：流水线传输

![image-20230210144956094](计算机网络.assets/image-20230210144956094.png)

#### 连续 ARQ 协议

![image-20230210145139370](计算机网络.assets/image-20230210145139370.png)

##### 发送窗口

![image-20230210145323446](计算机网络.assets/image-20230210145323446.png)

##### 累积确认

![image-20230210145341399](计算机网络.assets/image-20230210145341399.png)

##### 回退N

![image-20230210145410007](计算机网络.assets/image-20230210145410007.png)

#### TCP 报文段的首部格式

![image-20230210145644096](计算机网络.assets/image-20230210145644096.png)

![image-20230210145654116](计算机网络.assets/image-20230210145654116.png)

##### 序号

![image-20230210145920129](计算机网络.assets/image-20230210145920129.png)

![image-20230210145936410](计算机网络.assets/image-20230210145936410.png)

##### 确认号

![image-20230210150024272](计算机网络.assets/image-20230210150024272.png)

##### ACK

![image-20230210150133949](计算机网络.assets/image-20230210150133949.png)

##### SYN

![image-20230210150214683](计算机网络.assets/image-20230210150214683.png)

##### FIN

![image-20230210150231154](计算机网络.assets/image-20230210150231154.png)

##### 窗口

![image-20230210150306909](计算机网络.assets/image-20230210150306909.png)

##### 检验和

![image-20230210150335403](计算机网络.assets/image-20230210150335403.png)

![image-20230210150423726](计算机网络.assets/image-20230210150423726.png)

#### 最大报文段 MSS

![image-20230210150637042](计算机网络.assets/image-20230210150637042.png)

![image-20230210150718709](计算机网络.assets/image-20230210150718709.png)

![image-20230210150752104](计算机网络.assets/image-20230210150752104.png)

#### 练习

![image-20230210151435452](计算机网络.assets/image-20230210151435452.png)